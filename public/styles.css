* { box-sizing: border-box }
html, body { height: 100% }
body { margin: 0; font-family: Inter, system-ui, sans-serif; background: #0f172a; color: #e2e8f0 }
.topbar { height: 56px; display: flex; align-items: center; padding: 0 16px; border-bottom: 1px solid #1f2937; position: sticky; top:0; background:#0f172a; z-index:10 }
.brand { font-weight: 600 }
.menu-btn { background:#111827; color:#e2e8f0; border:1px solid #1f2937; border-radius:8px; padding:6px 10px; margin-right:8px; cursor:pointer }
.spacer { flex: 1 }
.topbar-search { display:flex; align-items:center; gap:8px; margin-left:16px }
.topbar-search input { padding:8px; border-radius:8px; border:1px solid #374151; background:#0b1220; color:#e2e8f0; min-width:280px }
.user-area button { background: #ef4444; border: none; color: #fff; padding: 8px 12px; border-radius: 6px; cursor: pointer }
.login { display: flex; align-items: center; justify-content: center; height: calc(100% - 56px) }
.login .card { background: #111827; padding: 24px; border-radius: 12px; width: 320px; display: grid; gap: 12px; border: 1px solid #1f2937 }
.login input { padding: 10px; border-radius: 8px; border: 1px solid #374151; background: #0b1220; color: #e2e8f0 }
.login button { padding: 10px; border-radius: 8px; border: none; background: #22c55e; color: #0b1220; font-weight: 600; cursor: pointer }
.login .error { color: #ef4444; min-height: 20px }
.hidden { display: none }
.layout { display:flex; min-height: calc(100vh - 56px) }
.sidebar { width: 240px; background:#0b1220; border-right:1px solid #1f2937; padding:12px; position: sticky; top:56px; height: calc(100vh - 56px) }
.sidebar-title { font-weight:600; margin-bottom:8px }
.sidebar-item { display:block; width:100%; text-align:left; padding:10px 12px; margin-bottom:8px; background:#111827; color:#e2e8f0; border:1px solid #1f2937; border-radius:10px; cursor:pointer; outline:none }
.sidebar-item.active { border-color:#22c55e; color:#22c55e }
.content { flex:1; min-width:0 }
.tabs, .dashboard { display:none !important }
.content-panels { display:flex; flex-direction:column; height: calc(100vh - 56px); padding:16px }
.panel { flex:1; border:1px solid #1f2937; border-radius:12px; background:#0b1220; opacity:0; transform: translateX(8px) scale(0.98); transition: opacity 300ms ease, transform 300ms ease; display:none }
.panel.active { display:block; opacity:1; transform: translateX(0) scale(1) }
.widget { grid-column: span 6; background: #0b1220; border: 1px solid #1f2937; border-radius: 12px; display: flex; flex-direction: column }
.widget-head { display: flex; align-items: center; justify-content: space-between; padding: 12px; border-bottom: 1px solid #1f2937 }
.widget-body { padding: 12px; min-height: 260px }
.actions button, .actions select { margin-left: 8px; background: #111827; color: #e2e8f0; border: 1px solid #374151; border-radius: 8px; padding: 6px 10px; cursor: pointer }
.filters { display: flex; flex-wrap: wrap; gap: 8px; margin-bottom: 8px }
.jus-link { display:inline-block; margin-top:8px; color:#22c55e; text-decoration:none; border:1px solid #22c55e; border-radius:8px; padding:6px 10px }
.jus-link.disabled { opacity:0.6; pointer-events:none }
.proc-number { display:inline-block; padding:6px 10px; border:1px solid #1f2937; border-radius:8px; background:#0b1220; color:#e2e8f0; min-width:220px }
.add-btn { margin-left:8px; background:#22c55e; color:#0b1220; border:none; border-radius:8px; padding:6px 10px; cursor:pointer; font-weight:600 }
.add-btn.disabled { opacity:0.6; pointer-events:none }
.proc-dynamic { margin-top:12px; display:grid; gap:12px }
.status-msg { font-size:13px; }
.status-ok { color:#22c55e }
.status-err { color:#ef4444 }
.proc-monitor { margin-top:16px; display:grid; gap:12px }
.proc-summary { background:#111827; border:1px solid #1f2937; border-radius:8px; padding:12px }
.proc-summary > div:first-child { font-weight:600; color:#cbd5e1; margin-bottom:6px }
.proc-actions { display:flex; align-items:center; gap:12px }
.proc-lastupd { color:#cbd5e1; font-size:13px }
.proc-history table { width:100%; border-collapse:collapse }
.proc-history th, .proc-history td { border:1px solid #1f2937; padding:6px; font-size:12px; vertical-align:top }
.proc-list { list-style:none; padding:0; margin:0; display:grid; gap:8px }
.proc-list li { display:flex; align-items:center; gap:8px; background:#111827; border:1px solid #1f2937; border-radius:8px; padding:8px; justify-content:space-between }
.proc-list li span { flex:1 }
.proc-list .aud-date { background:#0b1220; color:#e2e8f0; border:1px solid #374151; border-radius:6px; padding:6px }
.proc-list .aud-time { background:#0b1220; color:#e2e8f0; border:1px solid #374151; border-radius:6px; padding:6px; min-width:100px }
.proc-dynamic { height: 100%; overflow-y: scroll }
.trash-list { list-style:none; padding:0; margin:0; display:grid; gap:8px }
.trash-list li { display:flex; align-items:center; gap:8px; background:#111827; border:1px solid #1f2937; border-radius:8px; padding:8px; justify-content:space-between }
.trash-count { margin-left:8px; color:#cbd5e1; font-size:13px }
.trash-date { color:#cbd5e1; font-size:13px }
.mark-box { width:18px; height:18px; border:1px solid #374151; border-radius:4px; background:#0b1220; cursor:pointer }
.mark-box.marked { background:#22c55e; border-color:#22c55e }
.search-input { margin-top:8px; padding:8px; border-radius:8px; border:1px solid #374151; background:#0b1220; color:#e2e8f0; width:100% }
.search-count { margin-left:8px; color:#cbd5e1; font-size:13px }
.search-hit { background:#f59e0b; color:#0b1220; padding:0 2px; border-radius:3px }
.del-btn { margin-left:8px; background:#ef4444; color:#fff; border:none; border-radius:8px; padding:6px 10px; cursor:pointer; font-weight:600 }
.status-btn { margin-left:8px; border:none; border-radius:8px; padding:6px 10px; cursor:pointer; font-weight:600; color:#fff }
.status-btn { border:1px solid #94a3b8 }
.status-btn.active { background:#4CAF50 }
.status-btn.closed { background:#F44336 }
.status-menu { display:inline-flex; gap:6px; background:#0b1220; border:1px solid #374151; border-radius:8px; padding:6px; margin-left:8px }
.status-menu.hidden { display:none }
.status-menu .menu-item { background:#111827; color:#e2e8f0; border:1px solid #94a3b8; border-radius:8px; padding:6px 10px; cursor:pointer }
.proc-status { display:inline-block; padding:4px 8px; border-radius:4px; color:#fff; font-weight:600 }
.proc-status { border:1px solid #94a3b8 }
.proc-status.active { background:#4CAF50 }
.proc-status.closed { background:#F44336 }
.proc-status-menu { display:flex; gap:6px; background:#0b1220; border:1px solid #374151; border-radius:8px; padding:6px }
.proc-status-menu.hidden { display:none }
.proc-status-menu .menu-item { background:#111827; color:#e2e8f0; border:1px solid #94a3b8; border-radius:8px; padding:6px 10px; cursor:pointer }
.proc-screen { padding:16px }
.proc-screen-head { display:flex; align-items:center; justify-content:space-between; margin-bottom:12px }
.proc-screen-body { display:grid; gap:12px }
.pje-layout.pje-processes { grid-template-columns: 1fr; grid-template-rows: auto 1fr; gap:12px }
.pje-layout.pje-processes .proc-dynamic { margin-top: 8px }
#gcal-status { margin-left:8px; color:#cbd5e1 }
.gcal-list { margin-top:12px; display:grid; gap:8px }
.gcal-item { background:#111827; border:1px solid #1f2937; border-radius:8px; padding:10px }
.gcal-title { font-weight:600; color:#e2e8f0 }
.gcal-when { color:#cbd5e1; margin-top:4px; font-size:14px }
#billing-table { width: 100%; border-collapse: collapse }
#billing-table td, #billing-table th { border: 1px solid #1f2937; padding: 6px }
.metric-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px }
.metric-card { position: relative; background:#111827; border:1px solid #1f2937; border-radius:12px; padding:16px; box-shadow: 0 1px 2px rgba(0,0,0,0.25) }
.metric-card::before { content:''; position:absolute; top:0; left:0; right:0; height:4px; border-top-left-radius:12px; border-top-right-radius:12px; background: var(--accent, #22c55e) }
.metric-title { font-weight:600; color:#cbd5e1; margin-bottom:8px }
.metric-value { font-size:24px; font-weight:700; color:#e2e8f0 }
.accent-green { --accent:#22c55e }
.accent-teal { --accent:#14b8a6 }
.accent-blue { --accent:#3b82f6 }
.accent-amber { --accent:#f59e0b }
.accent-purple { --accent:#a78bfa }
.accent-rose { --accent:#f43f5e }
.accent-lime { --accent:#84cc16 }
.full-processes .sidebar { display:none }
.full-processes .content-panels { height: calc(100vh - 56px); padding:0 }
.full-processes .panel { border-radius:0; border:none }
.camera-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 8px }
.camera-item { position: relative; background: #111827; border: 1px solid #1f2937; border-radius: 8px; overflow: hidden }
.camera-item video, .camera-item img { width: 100%; height: 220px; object-fit: cover }
.camera-controls { position: absolute; bottom: 6px; right: 6px; display: flex; gap: 6px }
.camera-controls button { background: rgba(0,0,0,0.6); color: #e2e8f0; border: none; padding: 6px 8px; border-radius: 6px; cursor: pointer }
.camera-head { position: absolute; top: 6px; left: 6px; display:flex; gap:6px; align-items:center; background: rgba(0,0,0,0.6); padding:6px; border-radius:6px }
.camera-head input { background:#0b1220; color:#e2e8f0; border:1px solid #374151; border-radius:6px; padding:6px }
.camera-item.max { position: fixed; inset: 56px 0 0 0; z-index: 100; width: auto; height: auto; margin: 0; border-radius: 0 }
.camera-item.max video, .camera-item.max img { height: calc(100vh - 56px); object-fit: contain }
.camera-error { position:absolute; bottom: 6px; left:6px; color:#ef4444; background: rgba(0,0,0,0.6); padding:4px 6px; border-radius:6px; font-size:12px }
.map { width: 100%; height: 280px }
.route-controls { margin-top: 8px; display:flex; justify-content:flex-end }
.pje-container { margin-top: 8px }
.pje-frame { width: 100%; height: 600px; border: 1px solid #1f2937; border-radius: 8px; background:#0b1220 }
.filters #pje-url { flex: 1 }
.logs { font-family: monospace; font-size: 12px; white-space: pre-wrap; border: 1px solid #1f2937; padding: 8px; margin-top: 8px; max-height: 200px; overflow: auto; background:#0b1220; border-radius:8px }
.pje-layout { display: grid; grid-template-columns: 320px 1fr; gap: 12px }
.pje-filters .field { display: grid; gap: 6px; margin-bottom: 8px }
.pje-filters .inline { display: flex; gap: 8px; align-items: center }
.pje-filters input, .pje-filters select { padding: 8px; border-radius: 8px; border: 1px solid #374151; background: #0b1220; color: #e2e8f0 }
.pje-filters label { color: #cbd5e1; font-size: 14px }
.pje-filters .actions-row { display: flex; gap: 8px; margin-top: 8px }
.pje-filters .actions-row button { padding: 10px 12px; border: none; border-radius: 8px; cursor: pointer; background: #22c55e; color: #0b1220; font-weight: 600 }
.pje-filters .actions-row .secondary { background: #111827; color: #e2e8f0; border: 1px solid #374151 }
.pje-results .pje-toolbar { display: grid; grid-template-columns: repeat(10, 1fr); gap: 8px; padding: 8px; border: 1px solid #1f2937; border-radius: 8px; margin-bottom: 8px; background:#0b1220 }
#pje-results-table { width: 100%; border-collapse: collapse }
#pje-results-table th, #pje-results-table td { border: 1px solid #1f2937; padding: 6px; font-size: 12px }
.gad-table { width:100%; border-collapse: collapse }
.gad-table th, .gad-table td { border: 1px solid #1f2937; padding: 6px; font-size: 12px }
@media (max-width: 900px) {
  .layout { display:flex }
  .sidebar { display:block; width:200px }
  .content-panels { padding:8px }
  .panel { border-radius:8px }
}
